/* OU palette as CSS variables */
:root {
  --crimson:#841617;
  --dark-crimson:#4e0002;
  --black:#000000;
  --dark-gray:#323232;
  --light-gray:#f0f0f0;
  --white:#ffffff;
  --sky:#bcdceb;
  --leaf:#8ca57d;
  --stone:#beb4a5;
  --radius:8px;
  --shadow:0 1px 2px rgba(0,0,0,0.06);
}

/* Disable transitions during initial theme set (removed by JS) */
.no-theme-transitions *,
.no-theme-transitions,
.no-theme-transitions:before,
.no-theme-transitions:after { transition:none !important; }

/* Global reset and base */
* { box-sizing:border-box; }
html, body { margin:0; padding:0; }
body {
  background-color:var(--white);
  color:var(--black);
  font-family:"Source Sans Pro", Arial, sans-serif;
  font-size:16px;
  line-height:1.6;
}

/* Smooth theme transitions after load */
html, body, .navbar, .card, .tl-item, .search-panel, .footer, .navbar-right a, .search-btn {
  transition:background-color .25s ease, color .25s ease, border-color .25s ease, box-shadow .25s ease;
}

/* Links */
a {
  color:var(--black);
  text-decoration:none;
  border-bottom:1px solid transparent;
  transition:color .12s ease, border-color .12s ease, background-color .12s ease, font-weight .12s ease;
}
a:hover, a:focus { color:var(--crimson); border-bottom-color:var(--crimson); font-weight:700; outline:none; }
a:focus-visible { outline:2px solid var(--sky); outline-offset:2px; }

/* Headings */
h1, h2, h3, h4 { color:var(--crimson); margin-top:0; }

/* Page container */
.container { max-width:1000px; margin:4rem auto 2.5rem auto; padding:0 2rem; }

/* Navbar */
.navbar {
  display:flex;
  align-items:center;
  justify-content:space-between;
  background-color:var(--white);
  border-bottom:3px solid var(--crimson);
  padding:.75rem 2rem 1rem 2rem;
}
.navbar-left { display:flex; align-items:center; gap:.5rem; }
.navbar-left img { height:40px; width:auto; margin-right:.5rem; }
.navbar-left span { font-size:1.2rem; font-weight:700; letter-spacing:.2px; color:var(--crimson); }
.navbar-right { display:flex; align-items:center; gap:1rem; }
.navbar-right a { font-weight:600; color:var(--black); }
.navbar-right a:hover, .navbar-right a:focus { color:var(--crimson); font-weight:700; }
.navbar-right a.active { color:var(--crimson); font-weight:700; border-bottom:2px solid var(--crimson); }

/* Theme toggle (scoped to navbar) */
.navbar .theme-btn {
  background:var(--crimson);
  color:var(--white);
  border:none;
  border-radius:6px;
  width:30px;
  height:30px;
  padding:0;
  display:flex;
  align-items:center;
  justify-content:center;
  flex:0 0 30px;
  cursor:pointer;
}
.navbar .theme-btn:hover { background:var(--dark-crimson); }
.navbar .theme-btn svg { width:22px !important; height:22px !important; fill:#fff !important; stroke:#fff !important; display:block; }
.navbar .theme-btn .icon-sun { display:none !important; }
html[data-theme="dark"] .navbar .theme-btn .icon-moon { display:none !important; }
html[data-theme="dark"] .navbar .theme-btn .icon-sun { display:block !important; }

/* Home layout container: center and limit width */
.home-layout {
  display:grid;
  grid-template-columns:auto 1fr;
  gap:2rem;
  max-width:1500px;
  margin:0 auto;
  padding:4rem 1rem;
  align-items:start;
}

/* Image sizing and centering inside its cell */
.home-photo { display:flex; justify-content:center; }
.home-photo img {
  width:300px;
  max-width:100%;
  height:auto;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  object-fit:cover;
  flex-shrink:0;
}

/* Let text shrink instead of pushing the image */
.home-about { min-width:0; }

/* Title on one line with responsive size */
.home-about h1 {
  margin-bottom:.5rem;
  white-space:nowrap;
  font-size:clamp(1.2rem, 4vw, 2.5rem);
  overflow:hidden;
  text-overflow:ellipsis;
}

/* Section headers on inner pages */
.page-title { margin:0 0 1rem 0; padding-bottom:.25rem; border-bottom:1px solid var(--light-gray); }

/* Cards */
.card {
  padding:1rem 1.25rem;
  background:var(--white);
  border:1px solid var(--light-gray);
  border-left:4px solid var(--crimson);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}

/* Grids */
.grid-2 { display:grid; grid-template-columns:1fr 1fr; gap:1.25rem; }
.grid-3 { display:grid; grid-template-columns:repeat(3, 1fr); gap:1.25rem; }

/* Lists inside cards */
.card ul { margin:.5rem 0 0 1rem; }
.card li { margin-bottom:.4rem; }

/* Footer */
.footer {
  margin-top:3rem;
  padding:1.5rem 2rem;
  background-color:var(--dark-gray);
  color:var(--white);
  text-align:center;
  font-size:.95rem;
}

/* Tiny accent badges/lines */
.accent-line { border-top:2px solid var(--dark-crimson); }
.badge-sky { background:var(--sky); color:var(--black); padding:.15rem .4rem; border-radius:999px; }
.badge-leaf { background:var(--leaf); color:var(--white); padding:.15rem .4rem; border-radius:999px; }
.badge-stone { background:var(--stone); color:var(--black); padding:.15rem .4rem; border-radius:999px; }

/* Forms */
input[type="text"], input[type="email"], textarea {
  width:100%;
  padding:.6rem .7rem;
  border:1px solid var(--light-gray);
  border-radius:var(--radius);
  font:inherit;
}
button {
  padding:.6rem 1rem;
  border:1px solid var(--crimson);
  background:var(--crimson);
  color:var(--white);
  border-radius:var(--radius);
  font-weight:600;
  cursor:pointer;
  transition:background-color .12s ease, border-color .12s ease;
}
button:hover, button:focus { background:var(--dark-crimson); border-color:var(--dark-crimson); }

/* Search modal */
.search-modal {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.5);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.search-modal.open { display:flex; }
.search-panel {
  background:var(--white);
  border:1px solid var(--light-gray);
  border-left:4px solid var(--crimson);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  width:min(600px, 92vw);
  padding:1rem 1.25rem;
}
.search-panel h2 { margin:0 0 .75rem 0; color:var(--crimson); font-size:1.25rem; }
.search-row { display:flex; gap:.5rem; }
.search-row input[type="search"] { flex:1; padding:.6rem .7rem; border:1px solid var(--light-gray); border-radius:var(--radius); font:inherit; }
.search-row button[type="submit"] { padding:.6rem 1rem; }
.search-close { background:transparent; border:0; font-size:1rem; margin-left:.5rem; cursor:pointer; color:var(--black); }

/* Search button (circular crimson with white icon) */
.search-btn {
  background-color:var(--crimson);
  border:none;
  border-radius:50%;
  width:30px;
  height:30px;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
}
.search-btn svg { width:22px; height:22px; stroke:var(--white); flex-shrink:0; }
.search-btn:hover { background-color:var(--dark-crimson); }

/* Timeline (Experience page) */
.timeline { position:relative; margin:0 0 2rem 0; padding-left:1.75rem; }
.timeline::before { content:""; position:absolute; top:0; bottom:0; left:.65rem; width:2px; background:var(--light-gray); }
.tl-item {
  position:relative;
  margin-bottom:1.25rem;
  padding:1rem 1.25rem;
  background:var(--white);
  border:1px solid var(--light-gray);
  border-left:4px solid var(--crimson);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}
.tl-item h3 { margin:.25rem 0 .25rem 0; color:var(--crimson); }
.tl-item .tl-date { font-weight:700; color:var(--black); }
.tl-item .tl-dot { position:absolute; left:-1.05rem; top:1rem; width:14px; height:14px; background:var(--crimson); border:2px solid var(--white); border-radius:50%; box-shadow:0 0 0 2px var(--crimson); }

/* Mobile nav toggle (hidden on desktop) */
.nav-toggle {
  display:none;
  background:var(--crimson);
  color:var(--white);
  border:none;
  border-radius:8px;
  width:40px;
  height:40px;
  cursor:pointer;
  align-items:center;
  justify-content:center;
}

/* Mobile layout (<=720px: hamburger + dropdown) */
@media (max-width:720px) {
  .navbar { position:relative; padding:.5rem 1rem .5rem 1rem; }
  .nav-toggle { display:flex; margin-left:.75rem; }
  .navbar-left img { height:36px; }
  .navbar-left span { font-size:clamp(1rem, 3.5vw, 1.2rem); white-space:nowrap; max-width:60vw; overflow:hidden; text-overflow:ellipsis; }
  .navbar-right {
    position:absolute;
    top:100%;
    left:0;
    right:0;
    display:none;
    flex-direction:column;
    gap:0;
    background:var(--white);
    border-bottom:2px solid var(--light-gray);
    padding:.5rem 1rem .75rem 1rem;
    z-index:50;
  }
  .navbar-right.open { display:flex; }
  .navbar-right a { padding:.5rem 0; margin:0; }
  .search-btn { align-self:flex-start; margin-top:.25rem; }
  .container { margin:3rem auto 2rem auto; padding:0 1rem; }
}

/* Content responsiveness (<=800px: single column on home) */
@media (max-width:800px) {
  .home-layout { grid-template-columns:1fr; justify-items:center; text-align:center; }
  .home-about h1 { font-size:clamp(1.3rem, 6vw, 2rem); }
}

/* Dark mode â€” applied on <html data-theme="dark"> */
html[data-theme="dark"] {
  --white:#323232;
  --black:#ffffff;
  --light-gray:#444444;
  --dark-gray:#1f1f1f;
  --crimson:#a81b1f;
  --dark-crimson:#6a0a0c;
}
html[data-theme="dark"] body { background:var(--white); color:var(--black); }
html[data-theme="dark"] .navbar { background:var(--white); border-bottom-color:var(--crimson); }
html[data-theme="dark"] .card,
html[data-theme="dark"] .tl-item,
html[data-theme="dark"] .search-panel { background:var(--white); border-color:var(--light-gray); }
html[data-theme="dark"] a { color:var(--black); }
html[data-theme="dark"] .footer { background:var(--dark-gray); }
